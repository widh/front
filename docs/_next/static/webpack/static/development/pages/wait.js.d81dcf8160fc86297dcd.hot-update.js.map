{"version":3,"file":"static/webpack/static\\development\\pages\\wait.js.d81dcf8160fc86297dcd.hot-update.js","sources":["webpack:///./components/_Wrapper/index.tsx"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { useTranslation, initReactI18next } from 'react-i18next';\nimport Head from 'next/head';\nimport { useRouter } from 'next/router';\nimport i18next from 'i18next';\nimport { WFeature, WFeatureDisclaimer } from '../../assets/features';\n\nimport './style.scss';\n\n/* Constants */\nconst browserDisclaimerHTML = WFeatureDisclaimer(\n  'This web browser does not support web standard, so this page will not be rendered as intended or work properly on this browser.',\n  '이 웹 브라우저는 웹 표준을 지원하지 않기 때문에, 이 페이지는 이 브라우저에서 온전하게 보이거나 작동하지 않습니다.',\n  'Learn More',\n  '자세히 알아보기',\n  'https://browser-update.org/update.html',\n);\n\n/* Internationalization */\ni18next\n  .use(initReactI18next)\n  .init({\n    resources: {\n      en: { main: {} },\n      ko: { main: {} },\n    },\n    lng: 'en',\n    fallbackLng: 'en',\n    defaultNS: 'main',\n    ns: 'main',\n    interpolation: {\n      escapeValue: false,\n    },\n  });\n\n/* React Component */\ninterface Props {\n  title?: string\n  description?: string\n  main?: boolean\n  image?: string\n  favicoff?: boolean\n  className?: string\n  requiredFeatures?: WFeature[]\n  children: React.ReactElement | React.ReactElement[]\n};\n\nconst Wrapper: React.SFC<Props> = (props: Props) => {\n  const {\n    children, title, main, description, image, favicoff, className, requiredFeatures,\n  } = props;\n  const { pathname } = useRouter();\n  const [t, i18n] = useTranslation();\n\n  // Translation!\n  i18n.addResources('en', 'main', {\n    realTitleMain: 'Annyeong! wldh.',\n    realTitleSub: '{{0}} ～ wldh.',\n    metaTitle: 'Annyeong! - wldh',\n    metaDescription: 'Jio Gim\\'s personal homepage.',\n  });\n  i18n.addResources('ko', 'main', {\n    realTitleMain: '반가워요! ᅍ',\n    realTitleSub: '{{0}} ᅍ',\n    metaTitle: '반가워요! - ㅈㅇ',\n    metaDescription: '김지오의 개인 홈페이지입니다.',\n  });\n  useEffect(() => {\n    i18n.changeLanguage(document.documentElement.lang);\n  }, [i18n]);\n\n  // Determine meta information\n  const realTitle = main ? t('realTitleMain') : t('realTitleSub', [title]);\n  const metaTitle = main ? t('metaTitle') : title;\n  const metaDescription = description || t('metaDescription');\n  const metaURL = `https://www.wldh.org${pathname}`;\n  const metaImage = image || '/images/banner-index.png';\n\n  // Feature Detection\n  useEffect(() => {\n    // Initialize features\n    let featureList: WFeature[] = [() => !!String.prototype.includes];\n    if (requiredFeatures) featureList = featureList.concat(requiredFeatures);\n\n    // Check features\n    for (let i = 0; i < featureList.length; i += 1) {\n      try {\n        if (!featureList[i]()) {\n          throw new Error(`A result of feature test ${i} was false.`);\n        } else if (i === featureList.length - 1) {\n          /* eslint-disable no-console */\n          console.info('This browser supports wldh.');\n        }\n      } catch (e) {\n        /* eslint-disable no-console */\n        console.info(`This browser does not support wldh. [index=${i}]`);\n        console.error(e);\n        if (!document.getElementById('browser-disclaimer')) {\n          document.body.innerHTML = `${browserDisclaimerHTML}${document.body.innerHTML}`;\n        }\n      }\n    }\n  }, [requiredFeatures]);\n\n  // Render\n  return (\n    <div className={className}>\n      <Head>\n\n        {/* Modarkbul - dark/light theme */}\n        <script\n          dangerouslySetInnerHTML={{\n            __html: `\n              if (\n                (!document.cookie.indexOf(\"modarkbul\") > -1 && window.matchMedia(\"(prefers-color-scheme: dark)\").matches)\n                || (document.cookie.indexOf(\"modarkbul=dark\") > -1)\n              ) {\n                document.documentElement.dataset.theme = \"dark\";\n                document.documentElement.style.setProperty(\"background-color\", \"#000000\");\n              } else {\n                document.documentElement.dataset.theme = \"light\";\n                document.documentElement.style.setProperty(\"background-color\", \"#ffffff\");\n              }\n            `,\n          }}\n        />\n\n        {/* Document Domain Configuration */}\n        <script\n          dangerouslySetInnerHTML={{\n            __html: `\n              if (document.domain && document.domain.indexOf('wldh.org') > -1) {\n                document.domain = 'wldh.org';\n              }\n            `,\n          }}\n        />\n\n        {/* Internet Explorer Check */}\n        <script\n          dangerouslySetInnerHTML={{\n            __html: `\n              window.addEventListener('load', function () {\n                var agent = navigator.userAgent.toLowerCase();\n                if (\n                  (navigator.appName === \"Netscape\" && agent.indexOf(\"trident\") !== -1)\n                  || agent.indexOf(\"msie\") !== -1\n                ) {\n                  document.body.innerHTML = '${browserDisclaimerHTML}' + document.body.innerHTML;\n                }\n              });\n            `,\n          }}\n        />\n\n        {/* Meta Tags */}\n        <meta name=\"theme-color\" content=\"#ffffff\" />\n        <meta name=\"robots\" content=\"noimageindex\" />\n        <meta name=\"description\" content={metaDescription} />\n        <meta property=\"og:title\" content={metaTitle} />\n        <meta property=\"og:url\" content={metaURL} />\n        <meta property=\"og:image\" content={metaImage} />\n        <meta property=\"og:description\" content={metaDescription} />\n        <title>{realTitle}</title>\n\n        {/* Styles */}\n        <link\n          href={favicoff ? '/favicoff.ico' : '/favicon.ico'}\n          rel=\"shortcut icon\"\n        />\n        <link\n          href=\"https://fonts.googleapis.com/css?family=Noto+Sans+KR:300,400,500,700&display=swap\"\n          rel=\"stylesheet\"\n        />\n\n      </Head>\n\n      {/* Real Body */}\n      {children}\n    </div>\n  );\n};\n\nexport default Wrapper;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAAA;AAQA;AACA;AAAA;AAGA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AADA;AATA;AAcA;AACA;AASA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AACA;AAMA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AADA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAmBA;AACA;AADA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYA;AACA;AADA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAiBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWA;AACA;AACA;;;;A","sourceRoot":""}